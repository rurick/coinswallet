# Архитектура приложения
При разработке приложения учитывались принцыпы DDD, SOLID а также парадигрма API фреймворка Go-kit  

## Домены
Доменом реализующим бизнеслогику приложения является wallet (internal/domain/wallet/).
Сущностями доменя являются Account и Payment (internal/domain/wallet/entity)

Для хранения и манипуляции с данными домена используется репозиторий домена (internal/domain/wallet/repository),
в котором посредством драйверов (internal/domain/wallet/repository/driver) реализовано взаимодействие с СУБД.

Репозиторий для доступа к драйверам по принципу инверсии зависимостей. Благодаря такому подходу можно легко сменить
СУБД для хранения данных написав драйвер и указывая его при вызове фабрики объекта (AccountFactory, PaymentFactory)

## Сервисы
В сервисах (internal/services) реалзована бизнеслогика API в соответствии с парадигмой Go kit
Сервисы осуществляют промежуточным слоём между бизнеслогикой доменов и транспортным уровнем.

## Endpoints (internal/endpoints)
В пврадигме Go kit это виртуальные RPC методы. Они осуществляют вызовы соответствующих сервисов.
Также, благодяря предоставлению интерфейсного типа, эндпоинты позволяют полностью абстрагироваться от транспортного уровня.

## Транспортный уровень (internal/transport)
Обеспечивает взаимодействие с пользователями посредством HTTP запросов, реализуя, таким образом, REST API. 
В парадигме Go Kit транспортный уровень может реализовывать другие транспортные протоколы (HTTP, gRPC, NATS и т.п.)

## Вспомогательные пакеты (pkg)
### Кеширование объектов (pkg/memcache)
Используется драйверами сущьностей доменов для кеширования данных. Позволяет экономить количество запросов к БД

### Менеджер горутин (pkg/subprocmgr)
Пакет для работы с горутинами. Обеспечивает синхронизацию завершения горутин по завершению программы.

